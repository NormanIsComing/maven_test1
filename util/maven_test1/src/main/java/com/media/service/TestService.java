package com.media.service;

import bt.dht.DHTConfig;
import bt.dht.DHTModule;
import bt.metainfo.Torrent;
import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.google.inject.Module;
import javafx.scene.effect.SepiaTone;
import org.apache.poi.hssf.usermodel.HSSFWorkbook;
import org.apache.poi.ss.usermodel.Cell;
import org.apache.poi.ss.usermodel.Row;
import org.apache.poi.ss.usermodel.Sheet;
import org.apache.poi.ss.usermodel.Workbook;
import org.springframework.scheduling.support.SimpleTriggerContext;

import java.io.File;
import java.io.FileOutputStream;
import java.io.OutputStream;
import java.nio.file.Path;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

import bt.Bt;
import bt.data.Storage;
import bt.data.file.FileSystemStorage;
import bt.runtime.BtClient;
import bt.runtime.Config;

import java.nio.file.Paths;
import java.util.function.Consumer;

/**
 * @Author: 张子锋
 * @Date: 2018/12/27 23:52
 * @Description:
 */
public class TestService {
    public static final int PORT = 6892;

    public void sayHello() {
        try {

            Map iMap = getImap();
            Map eMap = getEmap();
            Map orgMap = getOrgMap();
            String iString = JSON.toJSONString(iMap);
            String eString = JSON.toJSONString(eMap);
            String orgString = JSON.toJSONString(orgMap);
            System.out.println("\n" + iString + "\n");
            System.out.println(eString + "\n");
            System.out.println(orgString + "\n");

            // 定义一个工作簿
            Workbook wb = new HSSFWorkbook();
            // 内部用户sheet
            Sheet sheet1 = wb.createSheet("内部用户");
            //创建行
            Row row1 = sheet1.createRow(0);
            //创建单元格
            Cell cell1 = row1.createCell(0);
            //给单元格 设置值
            cell1.setCellValue("集团字段");            //int行
            row1.createCell(1).setCellValue("置业字段");    //float
            Set<String> iSet = iMap.keySet();
            int num1 = 1;
            for (String string : iSet) {
                Row tempRow = sheet1.createRow(num1);
                tempRow.createCell(0).setCellValue(string);
                tempRow.createCell(1).setCellValue((String) iMap.get(string));
                num1++;
            }

            // 外部用户sheet
            Sheet sheet2 = wb.createSheet("外部用户");
            //创建行
            Row row2 = sheet2.createRow(0);
            //创建单元格
            Cell cell2 = row2.createCell(0);
            //给单元格 设置值
            cell2.setCellValue("集团字段");            //int行
            row2.createCell(1).setCellValue("置业字段");    //float
            Set<String> eSet = eMap.keySet();
            int num2 = 1;
            for (String string : eSet) {
                Row tempRow = sheet2.createRow(num2);
                tempRow.createCell(0).setCellValue(string);
                tempRow.createCell(1).setCellValue((String) eMap.get(string));
                num2++;
            }

            // 组织sheet
            Sheet sheet3 = wb.createSheet("组织");
            //创建行
            Row row3 = sheet3.createRow(0);
            //创建单元格
            Cell cell3 = row3.createCell(0);
            //给单元格 设置值
            cell3.setCellValue("集团字段");            //int行
            row3.createCell(1).setCellValue("置业字段");    //float
            Set<String> orgSet = orgMap.keySet();
            int num3 = 1;
            for (String string : orgSet) {
                Row tempRow = sheet3.createRow(num3);
                tempRow.createCell(0).setCellValue(string);
                tempRow.createCell(1).setCellValue((String) orgMap.get(string));
                num3++;
            }

            //定义输出流
            OutputStream out = new FileOutputStream("C:\\Users\\Norman\\Desktop\\映射字段.xls");
            wb.write(out);
            out.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public Map getImap() {
        String accountGet = "{\"data\":[{\"accountattribute\":\"uid\",\"accountattributeid\":30,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":1,\"isUid\":true,\"name\":\"uid\",\"userattribute\":\"uid\",\"userattributeid\":1},{\"accountattribute\":\"cn\",\"accountattributeid\":171,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":2,\"isUid\":false,\"name\":\"cn\",\"userattribute\":\"cn\",\"userattributeid\":33},{\"accountattribute\":\"departmentNumber\",\"accountattributeid\":141,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":4,\"isUid\":false,\"name\":\"departmentnumber\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"employeeNumber\",\"accountattributeid\":76,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":5,\"isUid\":false,\"name\":\"employeenumber\",\"userattribute\":\"employeenumber\",\"userattributeid\":8},{\"accountattribute\":\"facsimileTelephoneNumber\",\"accountattributeid\":108,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":6,\"isUid\":false,\"name\":\"fax\",\"userattribute\":\"facsimileTelephoneNumber\",\"userattributeid\":42},{\"accountattribute\":\"givenName\",\"accountattributeid\":70,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":7,\"isUid\":false,\"name\":\"givename\",\"userattribute\":\"givenname\",\"userattributeid\":25},{\"accountattribute\":\"homePhone\",\"accountattributeid\":112,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":8,\"isUid\":false,\"name\":\"homephone\",\"userattribute\":\"homePhone\",\"userattributeid\":30},{\"accountattribute\":\"mail\",\"accountattributeid\":80,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":9,\"isUid\":false,\"name\":\"mail\",\"userattribute\":\"mail\",\"userattributeid\":7},{\"accountattribute\":\"midea-alias\",\"accountattributeid\":50,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":11,\"isUid\":false,\"name\":\"alias\",\"userattribute\":\"midea-alias\",\"userattributeid\":44},{\"accountattribute\":\"midea-birthday\",\"accountattributeid\":39,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":12,\"isUid\":false,\"name\":\"birthday\",\"userattribute\":\"midea-birthday\",\"userattributeid\":45},{\"accountattribute\":\"midea-companyName\",\"accountattributeid\":78,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":13,\"isUid\":false,\"name\":\"companyname\",\"userattribute\":\"midea-companyname\",\"userattributeid\":36},{\"accountattribute\":\"midea-companyNumber\",\"accountattributeid\":159,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":14,\"isUid\":false,\"name\":\"companynumber\",\"userattribute\":\"midea-companynumber\",\"userattributeid\":46},{\"accountattribute\":\"midea-departmentName\",\"accountattributeid\":90,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":15,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"midea-empStatus\",\"accountattributeid\":5,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":17,\"isUid\":false,\"name\":\"status\",\"userattribute\":\"midea-empstatus\",\"userattributeid\":40},{\"accountattribute\":\"midea-gender\",\"accountattributeid\":55,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":18,\"isUid\":false,\"name\":\"gender\",\"userattribute\":\"midea-gender\",\"userattributeid\":39},{\"accountattribute\":\"midea-graduatedSchool\",\"accountattributeid\":65,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":19,\"isUid\":false,\"name\":\"school\",\"userattribute\":\"midea-graduatedSchool\",\"userattributeid\":48},{\"accountattribute\":\"midea-highestDegree\",\"accountattributeid\":52,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":20,\"isUid\":false,\"name\":\"degree\",\"userattribute\":\"midea-highestDegree\",\"userattributeid\":49},{\"accountattribute\":\"midea-hobby\",\"accountattributeid\":96,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":21,\"isUid\":false,\"name\":\"hobby\",\"userattribute\":\"midea-hobby\",\"userattributeid\":50},{\"accountattribute\":\"midea-homeAddress\",\"accountattributeid\":154,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":22,\"isUid\":false,\"name\":\"homePostAddress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"midea-idCardNo\",\"accountattributeid\":42,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":23,\"isUid\":false,\"name\":\"idcardnumber\",\"userattribute\":\"idcardno\",\"userattributeid\":27},{\"accountattribute\":\"midea-idCardType\",\"accountattributeid\":99,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":24,\"isUid\":false,\"name\":\"idcardtype\",\"userattribute\":\"midea-idcardtype\",\"userattributeid\":52},{\"accountattribute\":\"midea-jobClass\",\"accountattributeid\":137,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":25,\"isUid\":false,\"name\":\"postiongroup\",\"userattribute\":\"midea-jobclass\",\"userattributeid\":53},{\"accountattribute\":\"midea-joinjobdate\",\"accountattributeid\":47,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":26,\"isUid\":false,\"name\":\"joinsysdate\",\"userattribute\":\"midea-joinjobdate\",\"userattributeid\":54},{\"accountattribute\":\"midea-nation\",\"accountattributeid\":139,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":27,\"isUid\":false,\"name\":\"nation\",\"userattribute\":\"midea-nation\",\"userattributeid\":55},{\"accountattribute\":\"midea-position\",\"accountattributeid\":74,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":28,\"isUid\":false,\"name\":\"positonid\",\"userattribute\":\"midea-position\",\"userattributeid\":37},{\"accountattribute\":\"midea-positionName\",\"accountattributeid\":49,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":29,\"isUid\":false,\"name\":\"positionname\",\"userattribute\":\"midea-positionname\",\"userattributeid\":38},{\"accountattribute\":\"midea-positionType\",\"accountattributeid\":89,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":30,\"isUid\":false,\"name\":\"positionclass\",\"userattribute\":\"midea-positiontype\",\"userattributeid\":56},{\"accountattribute\":\"midea-rank\",\"accountattributeid\":36,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":31,\"isUid\":false,\"name\":\"rank\",\"userattribute\":\"midea-rank\",\"userattributeid\":57},{\"accountattribute\":\"midea-reserve9\",\"accountattributeid\":165,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":32,\"isUid\":false,\"name\":\"directphone\",\"userattribute\":\"midea-reserve9\",\"userattributeid\":59},{\"accountattribute\":\"midea-userType\",\"accountattributeid\":37,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":34,\"isUid\":false,\"name\":\"usertype\",\"userattribute\":\"midea-userType\",\"userattributeid\":61},{\"accountattribute\":\"midea-virtualDep\",\"accountattributeid\":119,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":35,\"isUid\":false,\"name\":\"parttimedept\",\"userattribute\":\"midea-virtualDep\",\"userattributeid\":62},{\"accountattribute\":\"midea-virtualPos\",\"accountattributeid\":97,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":36,\"isUid\":false,\"name\":\"parttimepost\",\"userattribute\":\"midea-virtualPos\",\"userattributeid\":63},{\"accountattribute\":\"mobile\",\"accountattributeid\":164,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":37,\"isUid\":false,\"name\":\"mobile\",\"userattribute\":\"mobile\",\"userattributeid\":22},{\"accountattribute\":\"postalAddress\",\"accountattributeid\":88,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":40,\"isUid\":false,\"name\":\"potalAddress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"postalCode\",\"accountattributeid\":128,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":41,\"isUid\":false,\"name\":\"potalCode\",\"userattribute\":\"postalCode\",\"userattributeid\":16},{\"accountattribute\":\"secure-mobile\",\"accountattributeid\":121,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":42,\"isUid\":false,\"name\":\"securemobile\",\"userattribute\":\"secure-mobile\",\"userattributeid\":66},{\"accountattribute\":\"telephoneNumber\",\"accountattributeid\":73,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":43,\"isUid\":false,\"name\":\"telephoneNumber\",\"userattribute\":\"telephonenumber\",\"userattributeid\":35},{\"accountattribute\":\"uniqueIdentifier\",\"accountattributeid\":135,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":44,\"isUid\":false,\"name\":\"uniqueIdentifier\",\"userattribute\":\"uniqueIdentifier\",\"userattributeid\":65},{\"accountattribute\":\"midea-userExpiredate\",\"accountattributeid\":155,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":149,\"isUid\":false,\"name\":\"userexpiredate\",\"userattribute\":\"midea-userexpiredate\",\"userattributeid\":60},{\"accountattribute\":\"nsAccountLock\",\"accountattributeid\":64,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":150,\"isUid\":false,\"name\":\"nsaccountlock\",\"userattribute\":\"nsaccountlock\",\"userattributeid\":68},{\"accountattribute\":\"passwordExpirationTime\",\"accountattributeid\":34,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":151,\"isUid\":false,\"name\":\"passwordexpirationtime\",\"userattribute\":\"passwordexpirationtime\",\"userattributeid\":64},{\"accountattribute\":\"manager\",\"accountattributeid\":131,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":166,\"isUid\":false,\"name\":\"manager\",\"userattribute\":\"manager\",\"userattributeid\":18},{\"accountattribute\":\"midea-hireDate\",\"accountattributeid\":59,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":167,\"isUid\":false,\"name\":\"hirdate\",\"userattribute\":\"midea-hiredate\",\"userattributeid\":71},{\"accountattribute\":\"midea-positionGrade\",\"accountattributeid\":168,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":169,\"isUid\":false,\"name\":\"positionGrade\",\"userattribute\":\"midea-positionGrade\",\"userattributeid\":72},{\"accountattribute\":\"midea-jobclass-p\",\"accountattributeid\":420,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":171,\"isUid\":false,\"name\":\"jobclassp\",\"userattribute\":\"midea-jobclass-p\",\"userattributeid\":73},{\"accountattribute\":\"midea-jobclass-pName\",\"accountattributeid\":422,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":174,\"isUid\":false,\"name\":\"jobclasspName\",\"userattribute\":\"midea-jobclass-pName\",\"userattributeid\":74},{\"accountattribute\":\"midea-jobclassName\",\"accountattributeid\":423,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":175,\"isUid\":false,\"name\":\"jobclassName\",\"userattribute\":\"midea-jobclassName\",\"userattributeid\":75}],\"total\":47}";
        String accountPut = "{\"data\":[{\"accountattribute\":\"cn\",\"accountattributeid\":171,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":45,\"isUid\":false,\"name\":\"cn\",\"userattribute\":\"cn\",\"userattributeid\":33},{\"accountattribute\":\"departmentNumber\",\"accountattributeid\":141,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":47,\"isUid\":false,\"name\":\"departmentnumber\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"employeeNumber\",\"accountattributeid\":76,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":48,\"isUid\":false,\"name\":\"employeenumber\",\"userattribute\":\"employeenumber\",\"userattributeid\":8},{\"accountattribute\":\"facsimileTelephoneNumber\",\"accountattributeid\":108,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":49,\"isUid\":false,\"name\":\"fax\",\"userattribute\":\"facsimileTelephoneNumber\",\"userattributeid\":42},{\"accountattribute\":\"givenName\",\"accountattributeid\":70,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":50,\"isUid\":false,\"name\":\"givenname\",\"userattribute\":\"givenname\",\"userattributeid\":25},{\"accountattribute\":\"homePhone\",\"accountattributeid\":112,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":51,\"isUid\":false,\"name\":\"homephone\",\"userattribute\":\"homePhone\",\"userattributeid\":30},{\"accountattribute\":\"mail\",\"accountattributeid\":80,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":52,\"isUid\":false,\"name\":\"mail\",\"userattribute\":\"mail\",\"userattributeid\":7},{\"accountattribute\":\"smart-alias\",\"accountattributeid\":215,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":53,\"isUid\":false,\"name\":\"alias\",\"userattribute\":\"midea-alias\",\"userattributeid\":44},{\"accountattribute\":\"customized-company\",\"accountattributeid\":231,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":55,\"isUid\":false,\"name\":\"company\",\"userattribute\":\"midea-companyname\",\"userattributeid\":36},{\"accountattribute\":\"customized-companyid\",\"accountattributeid\":290,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":57,\"isUid\":false,\"name\":\"comanyid\",\"userattribute\":\"midea-companynumber\",\"userattributeid\":46},{\"accountattribute\":\"departmentName\",\"accountattributeid\":304,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":58,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"smart-gender\",\"accountattributeid\":312,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":60,\"isUid\":false,\"name\":\"gender\",\"userattribute\":\"midea-gender\",\"userattributeid\":39},{\"accountattribute\":\"customized-school\",\"accountattributeid\":323,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":61,\"isUid\":false,\"name\":\"school\",\"userattribute\":\"midea-graduatedSchool\",\"userattributeid\":48},{\"accountattribute\":\"customized-degree\",\"accountattributeid\":234,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":62,\"isUid\":false,\"name\":\"degree\",\"userattribute\":\"midea-highestDegree\",\"userattributeid\":49},{\"accountattribute\":\"customized-interest\",\"accountattributeid\":296,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":63,\"isUid\":false,\"name\":\"interest\",\"userattribute\":\"midea-hobby\",\"userattributeid\":50},{\"accountattribute\":\"homePostalAddress\",\"accountattributeid\":106,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":64,\"isUid\":false,\"name\":\"homePostalAddress\",\"userattribute\":\"midea-homeAddress\",\"userattributeid\":51},{\"accountattribute\":\"smart-idcardnumber\",\"accountattributeid\":295,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":65,\"isUid\":false,\"name\":\"idcardno\",\"userattribute\":\"idcardno\",\"userattributeid\":27},{\"accountattribute\":\"smart-idcardtype\",\"accountattributeid\":327,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":66,\"isUid\":false,\"name\":\"idcardtype\",\"userattribute\":\"midea-idcardtype\",\"userattributeid\":52},{\"accountattribute\":\"customized-postiongroup\",\"accountattributeid\":297,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":67,\"isUid\":false,\"name\":\"postiongroup\",\"userattribute\":\"midea-jobclass\",\"userattributeid\":53},{\"accountattribute\":\"customized-joinsysdate\",\"accountattributeid\":338,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":68,\"isUid\":false,\"name\":\"joinsysdate\",\"userattribute\":\"midea-joinjobdate\",\"userattributeid\":54},{\"accountattribute\":\"customized-country\",\"accountattributeid\":208,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":69,\"isUid\":false,\"name\":\"country\",\"userattribute\":\"midea-nation\",\"userattributeid\":55},{\"accountattribute\":\"customized-positionid\",\"accountattributeid\":318,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":70,\"isUid\":false,\"name\":\"positionid\",\"userattribute\":\"midea-position\",\"userattributeid\":37},{\"accountattribute\":\"customized-positionname\",\"accountattributeid\":326,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":71,\"isUid\":false,\"name\":\"positionname\",\"userattribute\":\"midea-positionname\",\"userattributeid\":38},{\"accountattribute\":\"customized-postionclass\",\"accountattributeid\":343,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":72,\"isUid\":false,\"name\":\"positionclass\",\"userattribute\":\"midea-positiontype\",\"userattributeid\":56},{\"accountattribute\":\"customized-postionattr\",\"accountattributeid\":226,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":73,\"isUid\":false,\"name\":\"positionattr\",\"userattribute\":\"midea-rank\",\"userattributeid\":57},{\"accountattribute\":\"customized-directphone\",\"accountattributeid\":246,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":74,\"isUid\":false,\"name\":\"directphone\",\"userattribute\":\"midea-reserve9\",\"userattributeid\":59},{\"accountattribute\":\"smart-type\",\"accountattributeid\":308,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":75,\"isUid\":false,\"name\":\"smarttype\",\"userattribute\":\"midea-userType\",\"userattributeid\":61},{\"accountattribute\":\"smart-parttimedept\",\"accountattributeid\":265,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":76,\"isUid\":false,\"name\":\"parttimedept\",\"userattribute\":\"midea-virtualDep\",\"userattributeid\":62},{\"accountattribute\":\"smart-parttimepost\",\"accountattributeid\":210,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":77,\"isUid\":false,\"name\":\"parttimepost\",\"userattribute\":\"midea-virtualPos\",\"userattributeid\":63},{\"accountattribute\":\"mobile\",\"accountattributeid\":164,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":79,\"isUid\":false,\"name\":\"mobile\",\"userattribute\":\"mobile\",\"userattributeid\":22},{\"accountattribute\":\"postalAddress\",\"accountattributeid\":88,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":80,\"isUid\":false,\"name\":\"postaladdress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"postalCode\",\"accountattributeid\":128,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":81,\"isUid\":false,\"name\":\"postalCode\",\"userattribute\":\"postalCode\",\"userattributeid\":16},{\"accountattribute\":\"smart-securemobile\",\"accountattributeid\":301,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":82,\"isUid\":false,\"name\":\"securemobile\",\"userattribute\":\"secure-mobile\",\"userattributeid\":66},{\"accountattribute\":\"telephoneNumber\",\"accountattributeid\":73,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":83,\"isUid\":false,\"name\":\"telephoneNumber\",\"userattribute\":\"telephonenumber\",\"userattributeid\":35},{\"accountattribute\":\"uid\",\"accountattributeid\":30,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":84,\"isUid\":true,\"name\":\"uid\",\"userattribute\":\"uid\",\"userattributeid\":1},{\"accountattribute\":\"smart-lunid\",\"accountattributeid\":255,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":85,\"isUid\":false,\"name\":\"uniqueIdntifier\",\"userattribute\":\"uniqueIdentifier\",\"userattributeid\":65},{\"accountattribute\":\"customized-managercode\",\"accountattributeid\":354,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":86,\"isUid\":false,\"name\":\"manager\",\"userattribute\":\"manager\",\"userattributeid\":18},{\"accountattribute\":\"ds-pwp-account-disabled\",\"accountattributeid\":352,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":153,\"isUid\":false,\"name\":\"nsaccountlock\",\"userattribute\":\"nsaccountlock\",\"userattributeid\":68},{\"accountattribute\":\"ds-pwp-password-expiration-time\",\"accountattributeid\":353,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":154,\"isUid\":false,\"name\":\"passwordexpirationtime\",\"userattribute\":\"passwordexpirationtime\",\"userattributeid\":64},{\"accountattribute\":\"smart-status\",\"accountattributeid\":211,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":163,\"isUid\":false,\"name\":\"status\",\"userattribute\":\"midea-empstatus\",\"userattributeid\":40},{\"accountattribute\":\"customized-hiredate\",\"accountattributeid\":243,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":168,\"isUid\":false,\"name\":\"hirdate\",\"userattribute\":\"midea-hiredate\",\"userattributeid\":71},{\"accountattribute\":\"customized-positiongrade\",\"accountattributeid\":419,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":170,\"isUid\":false,\"name\":\"positionGrade\",\"userattribute\":\"midea-positionGrade\",\"userattributeid\":72},{\"accountattribute\":\"customized-postiongroup-p\",\"accountattributeid\":421,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":173,\"isUid\":false,\"name\":\"jobclassp\",\"userattribute\":\"midea-jobclass-p\",\"userattributeid\":73},{\"accountattribute\":\"customized-postiongroup-pname\",\"accountattributeid\":424,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":176,\"isUid\":false,\"name\":\"jobclasspName\",\"userattribute\":\"midea-jobclass-pName\",\"userattributeid\":74},{\"accountattribute\":\"customized-postiongroupname\",\"accountattributeid\":425,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":177,\"isUid\":false,\"name\":\"jobclassName \",\"userattribute\":\"midea-jobclassName\",\"userattributeid\":75}],\"total\":45}";
        // 构造获取的map
        JSONObject getObject = JSON.parseObject(accountGet);
        JSONArray getArray = getObject.getJSONArray("data");
        int getSize = getArray.size();
        Map<String, String> getMap = new HashMap<>(50);
        for (int i = 0; i < getSize; i++) {
            JSONObject object = getArray.getJSONObject(i);
            Object o = getMap.get(object.getString("userattribute"));
            if (o != null) {
                System.out.println("---------" + object.getString("userattribute") + "-----------------");
            }
            getMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 构造推送的map
        JSONObject putObject = JSON.parseObject(accountPut);
        JSONArray putArray = putObject.getJSONArray("data");
        int putSize = putArray.size();
        Map<String, String> putMap = new HashMap<>(50);
        for (int i = 0; i < putSize; i++) {
            JSONObject object = putArray.getJSONObject(i);
            putMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 集团字段和置业字段的映射
        Map<String, String> iMap = new HashMap<>();
        Set<String> getSet = getMap.keySet();
        for (String string : getSet) {
            if (putMap.get(string) != null) {
                iMap.put(getMap.get(string), putMap.get(string));
            }
        }

        Set<String> putSet = putMap.keySet();
        for (String string : putSet) {
            if (getMap.get(string) == null) {
                System.out.println("-----------内部用户没有的字段" + string + "-------");
            }
        }
        return iMap;
    }

    /**
     * 外部用户映射
     *
     * @return
     */
    public Map getEmap() {
        String accountGet = "{\"data\":[{\"accountattribute\":\"uid\",\"accountattributeid\":30,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":1,\"isUid\":true,\"name\":\"uid\",\"userattribute\":\"uid\",\"userattributeid\":1},{\"accountattribute\":\"cn\",\"accountattributeid\":171,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":2,\"isUid\":false,\"name\":\"cn\",\"userattribute\":\"cn\",\"userattributeid\":33},{\"accountattribute\":\"departmentNumber\",\"accountattributeid\":141,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":4,\"isUid\":false,\"name\":\"departmentnumber\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"employeeNumber\",\"accountattributeid\":76,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":5,\"isUid\":false,\"name\":\"employeenumber\",\"userattribute\":\"employeenumber\",\"userattributeid\":8},{\"accountattribute\":\"facsimileTelephoneNumber\",\"accountattributeid\":108,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":6,\"isUid\":false,\"name\":\"fax\",\"userattribute\":\"facsimileTelephoneNumber\",\"userattributeid\":42},{\"accountattribute\":\"givenName\",\"accountattributeid\":70,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":7,\"isUid\":false,\"name\":\"givename\",\"userattribute\":\"givenname\",\"userattributeid\":25},{\"accountattribute\":\"homePhone\",\"accountattributeid\":112,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":8,\"isUid\":false,\"name\":\"homephone\",\"userattribute\":\"homePhone\",\"userattributeid\":30},{\"accountattribute\":\"mail\",\"accountattributeid\":80,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":9,\"isUid\":false,\"name\":\"mail\",\"userattribute\":\"mail\",\"userattributeid\":7},{\"accountattribute\":\"midea-alias\",\"accountattributeid\":50,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":11,\"isUid\":false,\"name\":\"alias\",\"userattribute\":\"midea-alias\",\"userattributeid\":44},{\"accountattribute\":\"midea-birthday\",\"accountattributeid\":39,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":12,\"isUid\":false,\"name\":\"birthday\",\"userattribute\":\"midea-birthday\",\"userattributeid\":45},{\"accountattribute\":\"midea-companyName\",\"accountattributeid\":78,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":13,\"isUid\":false,\"name\":\"companyname\",\"userattribute\":\"midea-companyname\",\"userattributeid\":36},{\"accountattribute\":\"midea-companyNumber\",\"accountattributeid\":159,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":14,\"isUid\":false,\"name\":\"companynumber\",\"userattribute\":\"midea-companynumber\",\"userattributeid\":46},{\"accountattribute\":\"midea-departmentName\",\"accountattributeid\":90,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":15,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"midea-empStatus\",\"accountattributeid\":5,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":17,\"isUid\":false,\"name\":\"status\",\"userattribute\":\"midea-empstatus\",\"userattributeid\":40},{\"accountattribute\":\"midea-gender\",\"accountattributeid\":55,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":18,\"isUid\":false,\"name\":\"gender\",\"userattribute\":\"midea-gender\",\"userattributeid\":39},{\"accountattribute\":\"midea-graduatedSchool\",\"accountattributeid\":65,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":19,\"isUid\":false,\"name\":\"school\",\"userattribute\":\"midea-graduatedSchool\",\"userattributeid\":48},{\"accountattribute\":\"midea-highestDegree\",\"accountattributeid\":52,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":20,\"isUid\":false,\"name\":\"degree\",\"userattribute\":\"midea-highestDegree\",\"userattributeid\":49},{\"accountattribute\":\"midea-hobby\",\"accountattributeid\":96,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":21,\"isUid\":false,\"name\":\"hobby\",\"userattribute\":\"midea-hobby\",\"userattributeid\":50},{\"accountattribute\":\"midea-homeAddress\",\"accountattributeid\":154,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":22,\"isUid\":false,\"name\":\"homePostAddress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"midea-idCardNo\",\"accountattributeid\":42,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":23,\"isUid\":false,\"name\":\"idcardnumber\",\"userattribute\":\"idcardno\",\"userattributeid\":27},{\"accountattribute\":\"midea-idCardType\",\"accountattributeid\":99,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":24,\"isUid\":false,\"name\":\"idcardtype\",\"userattribute\":\"midea-idcardtype\",\"userattributeid\":52},{\"accountattribute\":\"midea-jobClass\",\"accountattributeid\":137,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":25,\"isUid\":false,\"name\":\"postiongroup\",\"userattribute\":\"midea-jobclass\",\"userattributeid\":53},{\"accountattribute\":\"midea-joinjobdate\",\"accountattributeid\":47,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":26,\"isUid\":false,\"name\":\"joinsysdate\",\"userattribute\":\"midea-joinjobdate\",\"userattributeid\":54},{\"accountattribute\":\"midea-nation\",\"accountattributeid\":139,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":27,\"isUid\":false,\"name\":\"nation\",\"userattribute\":\"midea-nation\",\"userattributeid\":55},{\"accountattribute\":\"midea-position\",\"accountattributeid\":74,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":28,\"isUid\":false,\"name\":\"positonid\",\"userattribute\":\"midea-position\",\"userattributeid\":37},{\"accountattribute\":\"midea-positionName\",\"accountattributeid\":49,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":29,\"isUid\":false,\"name\":\"positionname\",\"userattribute\":\"midea-positionname\",\"userattributeid\":38},{\"accountattribute\":\"midea-positionType\",\"accountattributeid\":89,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":30,\"isUid\":false,\"name\":\"positionclass\",\"userattribute\":\"midea-positiontype\",\"userattributeid\":56},{\"accountattribute\":\"midea-rank\",\"accountattributeid\":36,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":31,\"isUid\":false,\"name\":\"rank\",\"userattribute\":\"midea-rank\",\"userattributeid\":57},{\"accountattribute\":\"midea-reserve9\",\"accountattributeid\":165,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":32,\"isUid\":false,\"name\":\"directphone\",\"userattribute\":\"midea-reserve9\",\"userattributeid\":59},{\"accountattribute\":\"midea-userType\",\"accountattributeid\":37,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":34,\"isUid\":false,\"name\":\"usertype\",\"userattribute\":\"midea-userType\",\"userattributeid\":61},{\"accountattribute\":\"midea-virtualDep\",\"accountattributeid\":119,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":35,\"isUid\":false,\"name\":\"parttimedept\",\"userattribute\":\"midea-virtualDep\",\"userattributeid\":62},{\"accountattribute\":\"midea-virtualPos\",\"accountattributeid\":97,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":36,\"isUid\":false,\"name\":\"parttimepost\",\"userattribute\":\"midea-virtualPos\",\"userattributeid\":63},{\"accountattribute\":\"mobile\",\"accountattributeid\":164,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":37,\"isUid\":false,\"name\":\"mobile\",\"userattribute\":\"mobile\",\"userattributeid\":22},{\"accountattribute\":\"postalAddress\",\"accountattributeid\":88,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":40,\"isUid\":false,\"name\":\"potalAddress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"postalCode\",\"accountattributeid\":128,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":41,\"isUid\":false,\"name\":\"potalCode\",\"userattribute\":\"postalCode\",\"userattributeid\":16},{\"accountattribute\":\"secure-mobile\",\"accountattributeid\":121,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":42,\"isUid\":false,\"name\":\"securemobile\",\"userattribute\":\"secure-mobile\",\"userattributeid\":66},{\"accountattribute\":\"telephoneNumber\",\"accountattributeid\":73,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":43,\"isUid\":false,\"name\":\"telephoneNumber\",\"userattribute\":\"telephonenumber\",\"userattributeid\":35},{\"accountattribute\":\"uniqueIdentifier\",\"accountattributeid\":135,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":44,\"isUid\":false,\"name\":\"uniqueIdentifier\",\"userattribute\":\"uniqueIdentifier\",\"userattributeid\":65},{\"accountattribute\":\"midea-userExpiredate\",\"accountattributeid\":155,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":149,\"isUid\":false,\"name\":\"userexpiredate\",\"userattribute\":\"midea-userexpiredate\",\"userattributeid\":60},{\"accountattribute\":\"nsAccountLock\",\"accountattributeid\":64,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":150,\"isUid\":false,\"name\":\"nsaccountlock\",\"userattribute\":\"nsaccountlock\",\"userattributeid\":68},{\"accountattribute\":\"passwordExpirationTime\",\"accountattributeid\":34,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":151,\"isUid\":false,\"name\":\"passwordexpirationtime\",\"userattribute\":\"passwordexpirationtime\",\"userattributeid\":64},{\"accountattribute\":\"manager\",\"accountattributeid\":131,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":166,\"isUid\":false,\"name\":\"manager\",\"userattribute\":\"manager\",\"userattributeid\":18},{\"accountattribute\":\"midea-hireDate\",\"accountattributeid\":59,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":167,\"isUid\":false,\"name\":\"hirdate\",\"userattribute\":\"midea-hiredate\",\"userattributeid\":71},{\"accountattribute\":\"midea-positionGrade\",\"accountattributeid\":168,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":169,\"isUid\":false,\"name\":\"positionGrade\",\"userattribute\":\"midea-positionGrade\",\"userattributeid\":72},{\"accountattribute\":\"midea-jobclass-p\",\"accountattributeid\":420,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":171,\"isUid\":false,\"name\":\"jobclassp\",\"userattribute\":\"midea-jobclass-p\",\"userattributeid\":73},{\"accountattribute\":\"midea-jobclass-pName\",\"accountattributeid\":422,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":174,\"isUid\":false,\"name\":\"jobclasspName\",\"userattribute\":\"midea-jobclass-pName\",\"userattributeid\":74},{\"accountattribute\":\"midea-jobclassName\",\"accountattributeid\":423,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":175,\"isUid\":false,\"name\":\"jobclassName\",\"userattribute\":\"midea-jobclassName\",\"userattributeid\":75}],\"total\":47}";
        String accountPut = "{\"data\":[{\"accountattribute\":\"cn\",\"accountattributeid\":171,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":90,\"isUid\":false,\"name\":\"cn\",\"userattribute\":\"cn\",\"userattributeid\":33},{\"accountattribute\":\"departmentNumber\",\"accountattributeid\":141,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":92,\"isUid\":false,\"name\":\"departmentnumber\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"employeeNumber\",\"accountattributeid\":76,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":93,\"isUid\":false,\"name\":\"employeenumber\",\"userattribute\":\"employeenumber\",\"userattributeid\":8},{\"accountattribute\":\"facsimileTelephoneNumber\",\"accountattributeid\":108,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":94,\"isUid\":false,\"name\":\"fax\",\"userattribute\":\"facsimileTelephoneNumber\",\"userattributeid\":42},{\"accountattribute\":\"givenName\",\"accountattributeid\":70,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":95,\"isUid\":false,\"name\":\"givenname\",\"userattribute\":\"givenname\",\"userattributeid\":25},{\"accountattribute\":\"homePhone\",\"accountattributeid\":112,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":96,\"isUid\":false,\"name\":\"homephone\",\"userattribute\":\"homePhone\",\"userattributeid\":30},{\"accountattribute\":\"mail\",\"accountattributeid\":80,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":97,\"isUid\":false,\"name\":\"mail\",\"userattribute\":\"mail\",\"userattributeid\":7},{\"accountattribute\":\"smart-alias\",\"accountattributeid\":215,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":98,\"isUid\":false,\"name\":\"alias\",\"userattribute\":\"midea-alias\",\"userattributeid\":44},{\"accountattribute\":\"customized-company\",\"accountattributeid\":231,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":100,\"isUid\":false,\"name\":\"company\",\"userattribute\":\"midea-companyname\",\"userattributeid\":36},{\"accountattribute\":\"customized-companyid\",\"accountattributeid\":290,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":101,\"isUid\":false,\"name\":\"comanyid\",\"userattribute\":\"midea-companynumber\",\"userattributeid\":46},{\"accountattribute\":\"departmentName\",\"accountattributeid\":304,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":102,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"smart-gender\",\"accountattributeid\":312,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":104,\"isUid\":false,\"name\":\"gender\",\"userattribute\":\"midea-gender\",\"userattributeid\":39},{\"accountattribute\":\"customized-school\",\"accountattributeid\":323,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":105,\"isUid\":false,\"name\":\"school\",\"userattribute\":\"midea-graduatedSchool\",\"userattributeid\":48},{\"accountattribute\":\"customized-degree\",\"accountattributeid\":234,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":106,\"isUid\":false,\"name\":\"degree\",\"userattribute\":\"midea-highestDegree\",\"userattributeid\":49},{\"accountattribute\":\"customized-interest\",\"accountattributeid\":296,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":107,\"isUid\":false,\"name\":\"interest\",\"userattribute\":\"midea-hobby\",\"userattributeid\":50},{\"accountattribute\":\"homePostalAddress\",\"accountattributeid\":106,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":108,\"isUid\":false,\"name\":\"homePostalAddress\",\"userattribute\":\"midea-homeAddress\",\"userattributeid\":51},{\"accountattribute\":\"smart-idcardnumber\",\"accountattributeid\":295,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":109,\"isUid\":false,\"name\":\"idcardno\",\"userattribute\":\"idcardno\",\"userattributeid\":27},{\"accountattribute\":\"smart-idcardtype\",\"accountattributeid\":327,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":110,\"isUid\":false,\"name\":\"idcardtype\",\"userattribute\":\"midea-idcardtype\",\"userattributeid\":52},{\"accountattribute\":\"customized-postiongroup\",\"accountattributeid\":297,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":111,\"isUid\":false,\"name\":\"postiongroup\",\"userattribute\":\"midea-jobclass\",\"userattributeid\":53},{\"accountattribute\":\"customized-joinsysdate\",\"accountattributeid\":338,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":112,\"isUid\":false,\"name\":\"joinsysdate\",\"userattribute\":\"midea-joinjobdate\",\"userattributeid\":54},{\"accountattribute\":\"customized-country\",\"accountattributeid\":208,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":113,\"isUid\":false,\"name\":\"country\",\"userattribute\":\"midea-nation\",\"userattributeid\":55},{\"accountattribute\":\"customized-positionid\",\"accountattributeid\":318,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":114,\"isUid\":false,\"name\":\"positionid\",\"userattribute\":\"midea-position\",\"userattributeid\":37},{\"accountattribute\":\"customized-positionname\",\"accountattributeid\":326,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":115,\"isUid\":false,\"name\":\"positionname\",\"userattribute\":\"midea-positionname\",\"userattributeid\":38},{\"accountattribute\":\"customized-postionclass\",\"accountattributeid\":343,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":116,\"isUid\":false,\"name\":\"positionclass\",\"userattribute\":\"midea-positiontype\",\"userattributeid\":56},{\"accountattribute\":\"customized-postionattr\",\"accountattributeid\":226,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":117,\"isUid\":false,\"name\":\"positionattr\",\"userattribute\":\"midea-rank\",\"userattributeid\":57},{\"accountattribute\":\"customized-directphone\",\"accountattributeid\":246,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":118,\"isUid\":false,\"name\":\"directphone\",\"userattribute\":\"midea-reserve9\",\"userattributeid\":59},{\"accountattribute\":\"smart-type\",\"accountattributeid\":308,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":119,\"isUid\":false,\"name\":\"smarttype\",\"userattribute\":\"midea-userType\",\"userattributeid\":61},{\"accountattribute\":\"smart-parttimedept\",\"accountattributeid\":265,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":120,\"isUid\":false,\"name\":\"parttimedept\",\"userattribute\":\"midea-virtualDep\",\"userattributeid\":62},{\"accountattribute\":\"smart-parttimepost\",\"accountattributeid\":210,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":121,\"isUid\":false,\"name\":\"parttimepost\",\"userattribute\":\"midea-virtualPos\",\"userattributeid\":63},{\"accountattribute\":\"mobile\",\"accountattributeid\":164,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":123,\"isUid\":false,\"name\":\"mobile\",\"userattribute\":\"mobile\",\"userattributeid\":22},{\"accountattribute\":\"postalAddress\",\"accountattributeid\":88,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":124,\"isUid\":false,\"name\":\"postaladdress\",\"userattribute\":\"postalAddress\",\"userattributeid\":17},{\"accountattribute\":\"postalCode\",\"accountattributeid\":128,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":125,\"isUid\":false,\"name\":\"postalCode\",\"userattribute\":\"postalCode\",\"userattributeid\":16},{\"accountattribute\":\"smart-securemobile\",\"accountattributeid\":301,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":126,\"isUid\":false,\"name\":\"securemobile\",\"userattribute\":\"secure-mobile\",\"userattributeid\":66},{\"accountattribute\":\"telephoneNumber\",\"accountattributeid\":73,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":127,\"isUid\":false,\"name\":\"telephoneNumber\",\"userattribute\":\"telephonenumber\",\"userattributeid\":35},{\"accountattribute\":\"uid\",\"accountattributeid\":30,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":128,\"isUid\":true,\"name\":\"uid\",\"userattribute\":\"uid\",\"userattributeid\":1},{\"accountattribute\":\"smart-lunid\",\"accountattributeid\":255,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":129,\"isUid\":false,\"name\":\"uniqueIdntifier\",\"userattribute\":\"uniqueIdentifier\",\"userattributeid\":65},{\"accountattribute\":\"customized-managercode\",\"accountattributeid\":354,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":156,\"isUid\":false,\"name\":\"manager\",\"userattribute\":\"manager\",\"userattributeid\":18},{\"accountattribute\":\"ds-pwp-account-disabled\",\"accountattributeid\":352,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":158,\"isUid\":false,\"name\":\"nsaccountlock\",\"userattribute\":\"nsaccountlock\",\"userattributeid\":68},{\"accountattribute\":\"ds-pwp-password-expiration-time\",\"accountattributeid\":353,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":159,\"isUid\":false,\"name\":\"passwordexpirationtime\",\"userattribute\":\"passwordexpirationtime\",\"userattributeid\":64},{\"accountattribute\":\"smart-status\",\"accountattributeid\":211,\"attributecomputingid\":1,\"computing\":\"__DEFAULT_USER_COMPUTING__\",\"id\":164,\"isUid\":false,\"name\":\"status\",\"userattribute\":\"midea-empstatus\",\"userattributeid\":40}],\"total\":40}";
        // 构造获取的map
        JSONObject getObject = JSON.parseObject(accountGet);
        JSONArray getArray = getObject.getJSONArray("data");
        int getSize = getArray.size();
        Map<String, String> getMap = new HashMap<>(50);
        for (int i = 0; i < getSize; i++) {
            JSONObject object = getArray.getJSONObject(i);
            Object o = getMap.get(object.getString("userattribute"));
            if (o != null) {
                System.out.println("---------" + object.getString("userattribute") + "-----------------");
            }
            getMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 构造推送的map
        JSONObject putObject = JSON.parseObject(accountPut);
        JSONArray putArray = putObject.getJSONArray("data");
        int putSize = putArray.size();
        Map<String, String> putMap = new HashMap<>(50);
        for (int i = 0; i < putSize; i++) {
            JSONObject object = putArray.getJSONObject(i);
            putMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 集团字段和置业字段的映射
        Map<String, String> eMap = new HashMap<>();
        Set<String> set = getMap.keySet();
        for (String string : set) {
            if (putMap.get(string) != null) {
                eMap.put(getMap.get(string), putMap.get(string));
            }
        }

        Set<String> putSet = putMap.keySet();
        for (String string : putSet) {
            if (getMap.get(string) == null) {
                System.out.println("-----------外部用户没有的字段" + string + "-------");
            }
        }
        return eMap;
    }

    /**
     * @return
     */
    public Map getOrgMap() {
        String orgGet = "{\"data\":[{\"accountattribute\":\"departmentNumber\",\"accountattributeid\":141,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":131,\"isUid\":true,\"name\":\"deptuid\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"cn\",\"accountattributeid\":171,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":133,\"isUid\":false,\"name\":\"cn\",\"userattribute\":\"cn\",\"userattributeid\":33},{\"accountattribute\":\"displayName\",\"accountattributeid\":101,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":134,\"isUid\":false,\"name\":\"dispayname\",\"userattribute\":\"displayname\",\"userattributeid\":24},{\"accountattribute\":\"midea-departmentName\",\"accountattributeid\":90,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":135,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"midea-displayId\",\"accountattributeid\":169,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":136,\"isUid\":false,\"name\":\"order\",\"userattribute\":\"midea-displayid\",\"userattributeid\":47},{\"accountattribute\":\"midea-parentId\",\"accountattributeid\":181,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":137,\"isUid\":false,\"name\":\"parentid\",\"userattribute\":\"parentid\",\"userattributeid\":29},{\"accountattribute\":\"midea-personInCharge\",\"accountattributeid\":198,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":139,\"isUid\":false,\"name\":\"superleader\",\"userattribute\":\"midea-personInCharge\",\"userattributeid\":70},{\"accountattribute\":\"midea-orgType\",\"accountattributeid\":192,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":141,\"isUid\":false,\"name\":\"midea-orgtype\",\"userattribute\":\"midea-orgtype\",\"userattributeid\":69},{\"accountattribute\":\"midea-otype\",\"accountattributeid\":196,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":178,\"isUid\":false,\"name\":\"otype\",\"userattribute\":\"midea-otype\",\"userattributeid\":76}],\"total\":9}";
        String orgPut = "{\"data\":[{\"accountattribute\":\"o\",\"accountattributeid\":43,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":132,\"isUid\":false,\"name\":\"deptuid\",\"userattribute\":\"deptuid\",\"userattributeid\":28},{\"accountattribute\":\"smart-shortname\",\"accountattributeid\":202,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":143,\"isUid\":false,\"name\":\"displayname\",\"userattribute\":\"displayname\",\"userattributeid\":24},{\"accountattribute\":\"departmentName\",\"accountattributeid\":304,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":144,\"isUid\":false,\"name\":\"departmentname\",\"userattribute\":\"departmentname\",\"userattributeid\":26},{\"accountattribute\":\"smart-parentid\",\"accountattributeid\":264,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":147,\"isUid\":false,\"name\":\"parentid\",\"userattribute\":\"parentid\",\"userattributeid\":29},{\"accountattribute\":\"smart-superleader\",\"accountattributeid\":247,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":148,\"isUid\":false,\"name\":\"superleader\",\"userattribute\":\"midea-personInCharge\",\"userattributeid\":70},{\"accountattribute\":\"smart-type\",\"accountattributeid\":308,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":165,\"isUid\":false,\"name\":\"orgtype\",\"userattribute\":\"midea-orgtype\",\"userattributeid\":69},{\"accountattribute\":\"smart-otype\",\"accountattributeid\":462,\"attributecomputingid\":2,\"computing\":\"__DEFAULT_DEPARTMENT_COMPUTING__\",\"id\":179,\"isUid\":false,\"name\":\"otype\",\"userattribute\":\"midea-otype\",\"userattributeid\":76}],\"total\":7}";
        // 构造获取的map
        JSONObject getObject = JSON.parseObject(orgGet);
        JSONArray getArray = getObject.getJSONArray("data");
        int getSize = getArray.size();
        Map<String, String> getMap = new HashMap<>(50);
        for (int i = 0; i < getSize; i++) {
            JSONObject object = getArray.getJSONObject(i);
            Object o = getMap.get(object.getString("userattribute"));
            if (o != null) {
                System.out.println("---------" + object.getString("userattribute") + "-----------------");
            }
            getMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 构造推送的map
        JSONObject putObject = JSON.parseObject(orgPut);
        JSONArray putArray = putObject.getJSONArray("data");
        int putSize = putArray.size();
        Map<String, String> putMap = new HashMap<>(50);
        for (int i = 0; i < putSize; i++) {
            JSONObject object = putArray.getJSONObject(i);
            putMap.put(object.getString("userattribute"), object.getString("accountattribute"));
        }

        // 集团字段和置业字段的映射
        Map<String, String> orgMap = new HashMap<>();
        Set<String> set = getMap.keySet();
        for (String string : set) {
            if (putMap.get(string) != null) {
                orgMap.put(getMap.get(string), putMap.get(string));
            }
        }

        Set<String> putSet = putMap.keySet();
        for (String string : putSet) {
            if (getMap.get(string) == null) {
                System.out.println("-----------组织没有的字段" + string + "-------");
            }
        }
        return orgMap;
    }

    public void download() {
        Config config = new Config() {
            @Override
            public int getNumOfHashingThreads() {
                return Runtime.getRuntime().availableProcessors() * 2;
            }

            @Override
            public int getAcceptorPort() {
                return PORT;
            }
        };
// enable bootstrapping from public routers
        Module dhtModule = new DHTModule(new DHTConfig() {
            @Override
            public boolean shouldUseRouterBootstrap() {
                return true;
            }
        });

        Path targetDirectory = new File("C:\\Users\\Norman\\Desktop\\download").toPath();
        Storage storage = new FileSystemStorage(targetDirectory);
        BtClient client = Bt.client()
                .config(config)
                .storage(storage)
                .magnet("magnet:?xt=urn:btih:1E4C0ECABD44E4BFBB2AEB0C23849189B2A5D56A&dn=ABP-685&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.publicbt.com%3A80&tr=udp%3A%2F%2Ftracker.ccc.de%3A80&tr=http%3A%2F%2Ftracker.prq.to%2Fannounce.php")
                .autoLoadModules()
                .module(dhtModule)
                .stopWhenDownloaded()
                .build();
        client.startAsync().join();
        System.err.println("Starting seeder...");
        client.startAsync().join();
    }
}
